<!doctype><html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Odissée</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">
  <link rel="icon" type="image/png" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">

  <link rel="stylesheet" href="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/themes/css/cartodb.css">
  <link rel="stylesheet" href="http://cartodb.github.io/odyssey.js/sandbox/css/scroll.css">
  <script src="http://cartodb.github.io/odyssey.js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
  <div id="layout">
    <!--<div class="progress-bar"></div>-->

    <div class="inner-header">
      <div id="header"></div>
    </div>

    <div id="map_pos">
      <div id="map_container">
        <div id="map"></div>
      </div>
    </div>

    <div id="content"></div>

    <div id="credits">
      <span class="title" id="title">Title</span>
      <span class="author"><b id="author">By Name using</b> <a href="#">Odyssey.js</a><span>
    </span></span></div>
  </div> <!-- layout -->

  <script src="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/cartodb.js"></script>
  <script src="http://cartodb.github.io/odyssey.js/dist/odyssey.js" charset="UTF-8"></script>

  <script>
    O.Template({
      init: function() {
        var baseurl = this.baseurl = 'http://{s}.api.cartocdn.com/base-light/{z}/{x}/{y}.png';
        var map = this.map = L.map('map',{
          center: [0, 0],
          zoom: 4
        });

        this.map.scrollWheelZoom.disable();

        var basemap = this.basemap = L.tileLayer(baseurl, {
          attribution: 'data OSM - map CartoDB'
        }).addTo(map);

        var story = O.Story()

        this.story = story;
        this.miniprogressbar = O.MiniProgressBar();

        // trigger when  map_pos go out of the screen
        this.edge = O.Edge(
          O.Triggers.Scroll().less('map_pos').offset(0),
          O.Triggers.Scroll().greater('map_pos').offset(0)
        )
      },

      update: function(actions) {
        var self = this;

        this.story.clear();

        if (this.baseurl && (this.baseurl !== actions.global.baseurl)) {
          this.baseurl = actions.global.baseurl || 'http://a.tile.stamen.com/toner/{z}/{x}/{y}.png';

          this.basemap.setUrl(this.baseurl);
        }

        if (this.cartoDBLayer && ("http://"+self.cartoDBLayer.options.user_name+".cartodb.com/api/v2/viz/"+self.cartoDBLayer.options.layer_definition.stat_tag+"/viz.json" !== actions.global.vizjson)) {
          this.map.removeLayer(this.cartoDBLayer);

          this.cartoDBLayer = null;
          this.created = false;
        }

        if (actions.global.vizjson && !this.cartoDBLayer) {
          if (!this.created) { // sendCode debounce < vis loader
            cdb.vis.Loader.get(actions.global.vizjson, function(vizjson) {
              self.map.fitBounds(vizjson.bounds);

              cartodb.createLayer(self.map, vizjson)
                .done(function(layer) {
                  self.cartoDBLayer = layer;

                  var sublayer = layer.getSubLayer(0),
                      layer_name = layer.layers[0].options.layer_name,
                      filter = actions.global.cartodb_filter ? " WHERE "+actions.global.cartodb_filter : "";

                  sublayer.setSQL("SELECT * FROM "+layer_name+filter)

                  self.map.addLayer(layer);

                  self._resetActions(actions);
                }).on('error', function(err) {
                  console.log("some error occurred: " + err);
                });
            });

            this.created = true;
          }

          return;
        }

        this._resetActions(actions);
      },

      _resetActions: function(actions) {
        // update footer title and author
        var title_ = actions.global.title === undefined ? '' : actions.global.title,
            author_ = actions.global.author === undefined ? 'Using' : 'By '+actions.global.author+' using';

        document.getElementById('title').innerHTML = title_;
        document.getElementById('author').innerHTML = author_;
        document.title = title_ + " | " + author_ +' Odyssey.js';

        var TRIGGER_LINE = this.map.getSize().y + 50;
        this.story.addEvent(
          this.edge,
          O.Parallel(
            O.Actions.CSS($('#map_container')).toggleClass('attachTop'),
            O.Actions.CSS($('#content')).toggleClass('attachMap'),
            O.Actions.Debug().log('attach')
          )
        )

        // create content
        var content = '';

        var slide_ = actions[0];
        $('#header').html(slide_.html());

        this.story
          .addState(
            O.Scroll().within($('#header')),
            slide_(this)
          );

        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          content += "<div id='s_" + i +"'>" + slide.html() + "</div>";
        }

        $('#content').html(content);

        // first slide is the header, skip it
        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          this.story.addState(
            O.Triggers.Scroll().within('s_' + i).offset(TRIGGER_LINE),
            O.Parallel(
              slide(this),
              this.miniprogressbar.percent(100*i/(actions.length - 1))
            )
          )
        }

        if(window.scrollY === 0) {
          this.story.go(0);
        }
      }
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-20934186-21', 'cartodb.github.io');
    ga('send', 'pageview');
  </script>


<script type="text/template" id="md_template">```
-title: "Géodissée à la Réunion"
-author: "Etienne"
```

#Odissée à la Réunion
```
L.marker([37.7620, -122.4385]).actions.addRemove(S.map)
- center: [-21.1281, 55.5084]
- zoom: 3
```

#Que faire un dimanche aprem ?
```
L.marker([-21.03005, 55.22419]).actions.addRemove(S.map)
- center: [-21.03005, 55.22419]
- zoom: 10
```
Après une petite sueur pour monter au Grand Bénare, quoi de mieux que de se baigner à l'Océan : descente des 2800 m pour aller à Boucan-Canot, l'une des meilleures plages de l'île :
![](boucan-canot.JPG)
Puis on termine la journée par une marche sur le feu par les Hindous :
![](marche_du_feu.JPG)

#Que faire un dimanche matin ?
```
L.marker([-21.09558, 55.39548]).actions.addRemove(S.map)
- center: [-21.09558, 55.39548]
- zoom: 10
```
Réveil à 4h et hop direction le Piton Maïdo pour le lever du soleil
![](nuit.JPG)
![](lever_soleil.JPG)
et on se dirige vers le Grand Bénare à 2898m (3ème sommet de l'île) pour admirer les 2 cirques : Mafate et Cilaos. On aperçoit au premier plan le Piton des Neiges (point culminant) et loin derrière le Piton de la Fournaise.
![](vue_piton_des_neiges.JPG)
![](vue_mafatte.JPG)
De nos propres yeux, ces cirques sont impressionnants !


#Sur la côte
```
L.marker([-21.07766, 55.22014]).actions.addRemove(S.map)
- center: [-21.07766, 55.22014]
- zoom: 10
```
Sur la route vers la plus belle plage de la Réunion :
![](souffleur.JPG)
à l'Ermitage
![](plage_ermitage.JPG)
et il y a de quoi !
![](corail.JPG)
et même une baleine avec son petit baleineau
![](baleine.JPG)

Le coucher de soleil sur Saint-Leu :
![](coucher_soleil.JPG)

#Qui dit canne à sucre, dit rhum
```
L.marker([-21.31239, 55.46551]).actions.addRemove(S.map)
- center: [-21.31239, 55.46551]
- zoom: 10
```
On commence par distiller
![](distillerie.JPG)
puis on déguste !
![](degustation.JPG)

#La sucrière à Saint-Louis
```
L.marker([-21.27900, 55.39806]).actions.addRemove(S.map)
- center: [-21.27900, 55.39806]
- zoom: 10
```
... mais rien à voir avec le sucre Saint-Louis.
![](cannes_a_sucres.JPG)
Quelle chaleur ! Dommage que l'on ne puisse pas partager les odeurs :
![](sucriere.JPG)
"Le sirop la cuite", directement au robinet :
« Le plus pur jus de canne à sucre issu directement de la défibrillation de la canne, juste avant la cristallisation pour la fabrication des sucres »
![](sucre.JPG)

#Saint-Pierre
```
L.marker([-21.3444, 55.4689]).actions.addRemove(S.map)
- center: [-21.3444, 55.4689]
- zoom: 10
```
Le Temple Tamoul Narassingua Perournal
![](temple.JPG)
Le marché couvert :
![](marché.JPG)
Vivement que je retourne à Montpellier pour kiter !
![](kite.JPG)

#En allant au boulot
```
L.marker([-21.34030, 55.49180]).actions.addRemove(S.map)
- center: [-21.34030, 55.49180]
- zoom: 10
```
Premier petit matin depuis ma chambre
![Atterissage](boulot1.JPG)

50 mètres à faire pour atteindre la station SEAS-OI
![](boulot2.JPG)

SEAS-OI : Surveillance de l'Environnement Assistée par Satellite pour l'Océan Indien
La grosse boule blanche, c'est pour la réception des images satellitaires SPOT quand les satellites sont dans un rayon de 2500 km.
![](boulot3.JPG)

#Mayday !
```
L.marker([-20.8473, 55.41]).actions.addRemove(S.map)
- center: [-20.8473, 55.41]
- zoom: 10
```

En phase d'atterissage, alors que l'on était à quelques dizaines de mètres au-dessus de la mer, le pilote décide de faire un petit tour de manège au-dessus de l'océan. 360° complet, ce qui me laisse le temps d'apercevoir l'île par mon hublot.

![Atterissage](atterissage.JPG)

#Fin du stage Montpélliérain
```
L.marker([43.6082, 3.9056]).actions.addRemove(S.map)
- center: [43.6082, 3.9056]
- zoom: 8
```

31 juillet, la fin du stage à Montpellier. Après 2 mois de travail intensif, j'arrive enfin à maîtriser mon kart. Il faut dire qu'ils sont bien entrainés au co-working.

Maintenant, place au séjour mi-vacances-mi-travail à la Réunion.
![Mario Kart](mario-kart.jpg)
![CosWos](coswos.jpg)

</script></body></html>